{"remainingRequest":"/Users/pako/work/workspace/node-blog/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pako/work/workspace/node-blog/blog/src/components/Comment.vue?vue&type=style&index=0&id=133ed8df&lang=scss&scoped=true&","dependencies":[{"path":"/Users/pako/work/workspace/node-blog/blog/src/components/Comment.vue","mtime":1613314595023},{"path":"/Users/pako/work/workspace/node-blog/blog/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pako/work/workspace/node-blog/blog/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/pako/work/workspace/node-blog/blog/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/pako/work/workspace/node-blog/blog/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pako/work/workspace/node-blog/blog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pako/work/workspace/node-blog/blog/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouY29tbWVudC1ib3ggewogICAgcGFkZGluZzogNTBweCAzMHB4OwogICAgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDBweCAzcHggcmdiYSgwLCAwLCAwLCAwLjE1NyksIDAgMHB4IDNweCByZ2JhKDAsIDAsIDAsIDAuMjI3KTsKICAgIGJveC1zaGFkb3c6IDAgMHB4IDNweCByZ2JhKDAsIDAsIDAsIDAuMTU3KSwgMCAwcHggM3B4IHJnYmEoMCwgMCwgMCwgMC4yMjcpOwogICAgYmFja2dyb3VuZDogI2ZhZmFmYTsKICAgIC5zaWduSW5UZXh0IHsKICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgY29sb3I6ICMzYjk5ZmM7CiAgICAgICAgZm9udC1zaXplOiAxOHB4OwogICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIH0KfQouaW5wdXQtYm94IHsKICAgIC5pbnB1dC10b3AgewogICAgICAgIGRpc3BsYXk6IC13ZWJraXQtYm94OwogICAgICAgIGRpc3BsYXk6IC1tcy1mbGV4Ym94OwogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgLmltZyB7CiAgICAgICAgICAgIHdpZHRoOiAxMDBweDsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICAuYXZhdGFyewogICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgICAgICAgICAgd2lkdGg6IDYwcHg7CiAgICAgICAgICAgICAgICBoZWlnaHQ6IDYwcHg7CiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjMDAwOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC51c2VybmFtZSB7CiAgICAgICAgICAgICAgICBjb2xvcjogIzNiOTlmYzsKICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgICAgIHdvcmQtYnJlYWs6IGJyZWFrLWFsbDsKICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLnRleHQgewogICAgICAgICAgICAtd2Via2l0LWJveC1mbGV4OiAxOwogICAgICAgICAgICAtbXMtZmxleDogMTsKICAgICAgICAgICAgZmxleDogMTsKICAgICAgICAgICAgdGV4dGFyZWEgewogICAgICAgICAgICAgICAgd2lkdGg6IDk4JTsKICAgICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAyJTsKICAgICAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDkwcHg7CiAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkOwogICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4OwogICAgICAgICAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICAuaW5wdXQtYm90dG9tIHsKICAgICAgICBtYXJnaW4tdG9wOiAyMHB4OwogICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgLnN1Ym1pdCB7CiAgICAgICAgICAgIGZsb2F0OnJpZ2h0OwogICAgICAgICAgICB3aWR0aDogMTAwcHg7CiAgICAgICAgICAgIGhlaWdodDogNTBweDsKICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDUwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4yKTsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7CiAgICAgICAgICAgIGNvbG9yOiAjZmZmOwogICAgICAgICAgICAmOmhvdmVyIHsKICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMTI5LCAyNTUsIDAuNyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KLmFsbF9jb21tZW50IHsKICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZWVlOwogICAgcGFkZGluZzogMzBweCAwOwogICAgbWFyZ2luOiAzMHB4IDAgMCAwOwogICAgLnRpdGxlIHsKICAgICAgICBtYXJnaW4tYm90dG9tOiA1MHB4OwogICAgICAgIGZvbnQtc2l6ZTogMjBweDsKICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICBib3JkZXItbGVmdDogNHB4IHNvbGlkICMzYjk5ZmM7CiAgICAgICAgcGFkZGluZy1sZWZ0OiAyMHB4OwogICAgfQogICAgLmNvbW1lbnQtbGlzdCB7CiAgICAgICAgLmNvbW1lbnQtaXRlbSB7CiAgICAgICAgICAgIGRpc3BsYXk6IC13ZWJraXQtYm94OwogICAgICAgICAgICBkaXNwbGF5OiAtbXMtZmxleGJveDsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgcGFkZGluZzogMjBweCAwOwogICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VlZTsKICAgICAgICAgICAgLml0ZW1fbCB7CiAgICAgICAgICAgICAgICB3aWR0aDogMTAwcHg7CiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgICAgICAuYXZhdGFyewogICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiA2MHB4OwogICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDYwcHg7CiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzAwMDsKICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC51c2VybmFtZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjM2I5OWZjOwogICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmQtYnJlYWs6IGJyZWFrLWFsbDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAuaXRlbV9yIHsKICAgICAgICAgICAgICAgIGZsZXg6IDE7CiAgICAgICAgICAgICAgICAuY29tbWVudC1jb250ZW50IHsKICAgICAgICAgICAgICAgICAgICB3aWR0aDogOTglOwogICAgICAgICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAyJTsKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMHB4OwogICAgICAgICAgICAgICAgICAgIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICAgICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzY2NjsKICAgICAgICAgICAgICAgICAgICAuY29tbWVudF90ZXh0IHsKICAgICAgICAgICAgICAgICAgICAgICAgbWluLWhlaWdodDogNzBweDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLmNvbW1lbnRfdGltZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["Comment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Comment.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"comment-box\">\n        <div v-if=\"isSignIn===0\" class=\"signInText\">登录留言吧</div>\n        <div v-else class=\"input-box\">\n            <div class=\"input-top\">\n                <div class=\"img\">\n                    <img class=\"avatar\" :src=\"userinfo.head_img\" alt=\"\">\n                    <p class=\"username\">{{userinfo.nickname}}</p>\n                </div>\n                <div class=\"text\">\n                    <textarea class=\"comment-content\" v-model=\"submitText\"></textarea>\n                </div>\n            </div>\n            <div class=\"input-bottom\">\n                <a href=\"javascript:void(0)\" class=\"submit\" @click=\"publicComment\">发表评论</a>\n            </div>\n        </div>\n        <div class=\"all_comment\">\n            <p class=\"title\">全部评论<span class=\"total\">{{comments.length}}</span>条</p>\n            <div class=\"comment-list\">\n                <div class=\"comment-item\" v-for=\"item in comments\" :key=\"item.id\">\n                    <div class=\"item_l\">\n                        <img class=\"avatar\" :src=\"item.head_img\" alt=\"\">\n                        <p class=\"username\">{{item.nickname}}</p>\n                    </div>\n                    <div class=\"item_r\">\n                        <div class=\"comment-content\">\n                            <div class=\"comment_text\">{{item.cm_content}}</div>\n                            <div class=\"comment_time\">\n                                <span class=\"date\">{{item.create_time}}</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        data() {\n            return {\n                userinfo:{},\n                submitText:'',\n                comments:[]\n            }\n        },\n        computed: {\n            isSignIn() {\n                return this.$store.state.isSignIn\n            }\n        },\n        methods:{\n            getUserInfo() {\n                this.$axios.get('/api/user/info').then((res)=>{\n                    let result = res.data\n                    if(result.code === 0){\n                        this.userinfo = result.data\n                    }\n                }).catch(e=>{\n                    console.log(e)\n                })\n            },\n            publicComment() {\n                this.$axios.post('/api/comment/public',{\n                    article_id:this.$route.params.id,\n                    content:this.submitText\n                }).then((res)=>{\n                    console.log(res)\n                    if(res.data.code === 0){\n                        this.submitText = ''\n                        this.getCommentList()\n                    }\n                }).catch(e=>{\n                    console.log(e)\n                })\n            },\n            getCommentList() {\n                this.$axios.get('/api/comment/list',{\n                    params:{\n                        article_id:this.$route.params.id\n                    }     \n                }).then((res)=>{\n                    console.log(res)\n                    if(res.data.code === 0){\n                        this.comments = res.data.data\n                    }\n                }).catch(e=>{\n                    console.log(e)\n                })\n            }\n        },\n        created() {\n            this.getUserInfo()\n            this.getCommentList()\n        },\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n.comment-box {\n    padding: 50px 30px;\n    -webkit-box-shadow: 0 0px 3px rgba(0, 0, 0, 0.157), 0 0px 3px rgba(0, 0, 0, 0.227);\n    box-shadow: 0 0px 3px rgba(0, 0, 0, 0.157), 0 0px 3px rgba(0, 0, 0, 0.227);\n    background: #fafafa;\n    .signInText {\n        text-align: center;\n        color: #3b99fc;\n        font-size: 18px;\n        cursor: pointer;\n    }\n}\n.input-box {\n    .input-top {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        .img {\n            width: 100px;\n            text-align: center;\n            .avatar{\n                display: inline-block;\n                width: 60px;\n                height: 60px;\n                border-radius: 50%;\n                border: 1px solid #000;\n            }\n            .username {\n                color: #3b99fc;\n                cursor: pointer;\n                word-break: break-all;\n                margin-top: 10px;\n            }\n        }\n        .text {\n            -webkit-box-flex: 1;\n            -ms-flex: 1;\n            flex: 1;\n            textarea {\n                width: 98%;\n                margin-left: 2%;\n                min-height: 90px;\n                font-size: 14px;\n                border: 1px solid #ddd;\n                border-radius: 6px;\n                padding: 20px;\n                box-sizing: border-box;\n            }\n        }\n    }\n    .input-bottom {\n        margin-top: 20px;\n        overflow: hidden;\n        .submit {\n            float:right;\n            width: 100px;\n            height: 50px;\n            line-height: 50px;\n            background: rgba(0, 0, 0, 0.2);\n            text-align: center;\n            border-radius: 6px;\n            color: #fff;\n            &:hover {\n                background: rgba(0, 129, 255, 0.7);\n            }\n        }\n    }\n}\n.all_comment {\n    border-top: 1px solid #eee;\n    padding: 30px 0;\n    margin: 30px 0 0 0;\n    .title {\n        margin-bottom: 50px;\n        font-size: 20px;\n        font-weight: bold;\n        border-left: 4px solid #3b99fc;\n        padding-left: 20px;\n    }\n    .comment-list {\n        .comment-item {\n            display: -webkit-box;\n            display: -ms-flexbox;\n            display: flex;\n            padding: 20px 0;\n            border-bottom: 1px solid #eee;\n            .item_l {\n                width: 100px;\n                text-align: center;\n                .avatar{\n                        display: inline-block;\n                        width: 60px;\n                        height: 60px;\n                        border-radius: 50%;\n                        border: 1px solid #000;\n                        margin-bottom: 20px;\n                }\n                .username {\n                        color: #3b99fc;\n                        cursor: pointer;\n                        word-break: break-all;\n                }\n            }\n            .item_r {\n                flex: 1;\n                .comment-content {\n                    width: 98%;\n                    margin-left: 2%;\n                    padding: 10px;\n                    -webkit-box-sizing: border-box;\n                    box-sizing: border-box;\n                    font-size: 14px;\n                    color: #666;\n                    .comment_text {\n                        min-height: 70px;\n                    }\n                    .comment_time {\n                        text-align: right;\n                        padding: 10px 0;\n                        font-size: 12px;\n                    }\n                }\n                \n            }\n        }\n    }\n}\n</style>"]}]}