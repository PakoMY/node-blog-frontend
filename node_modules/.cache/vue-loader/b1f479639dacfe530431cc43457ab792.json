{"remainingRequest":"/Users/pako/work/workspace/node-blog/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pako/work/workspace/node-blog/blog/src/views/Article.vue?vue&type=style&index=0&id=82768ea8&lang=scss&scoped=true&","dependencies":[{"path":"/Users/pako/work/workspace/node-blog/blog/src/views/Article.vue","mtime":1613318025204},{"path":"/Users/pako/work/workspace/node-blog/blog/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pako/work/workspace/node-blog/blog/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/pako/work/workspace/node-blog/blog/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/pako/work/workspace/node-blog/blog/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pako/work/workspace/node-blog/blog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pako/work/workspace/node-blog/blog/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoudGl0bGUgewogICAgbWFyZ2luOiAzMHB4IDA7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIGZvbnQtc2l6ZTogMjhweDsKfQouYXJ0aWNsZSB7CiAgICAuYWRkQnRuIHsKICAgICAgICBmbG9hdDogcmlnaHQ7CiAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgIH0KfQovZGVlcC8gLmVsLXRhYmxlIHsKICAgIC5jZWxsIHsKICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICB9Cn0K"},{"version":3,"sources":["Article.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Article.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"wrapper\">\n        <h1 class=\"title\">文章列表</h1>\n        <div class=\"article\">\n            <el-button class=\"addBtn\" @click=\"handleAdd\">新增+</el-button>\n            <el-table :data=\"articleList\" border stripe>\n                <el-table-column\n                    prop=\"title\"\n                    label=\"标题\"\n                    width=\"180\">\n                </el-table-column>\n                <el-table-column\n                    label=\"日期\"\n                    width=\"180\">\n                    <template slot-scope=\"scope\">\n                        <i class=\"el-icon-time\"></i>\n                        <span>{{ scope.row.create_time }}</span>\n                    </template>\n                </el-table-column>\n                <el-table-column\n                    label=\"操作\">\n                    <template slot-scope=\"scope\">\n                        <el-button size=\"mini\" type=\"primary\" @click=\"handleLook(scope.row)\">查看</el-button>\n                        <el-button size=\"mini\" type=\"success\" @click=\"handleEdit(scope.row)\">编辑</el-button>\n                        <el-button size=\"mini\" type=\"danger\" @click=\"handleDelect(scope.row)\">删除</el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n            \n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        data() {\n            return {\n                articleList:[]\n            }\n        },\n        methods:{\n            handleAdd() {\n                this.$router.push({name:'editArticle'})\n            },\n            handleLook(row) {\n                let id = row.id\n                window.open('#/detail/'+id)\n            },\n            handleEdit(row) {\n                let id = row.id;\n                this.$router.push({path:`/article/edit/${id}`})\n            },\n            handleDelect(row){\n                let id = row.id\n                this.$confirm('此操作将删除该文章, 是否继续?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    this.$axios.post('/api/article/delete',{\n                        article_id:id\n                    })\n                    .then(res => {\n                        if(res.data.code === 0){\n                            //发起删除请求操作\n                            this.$message({\n                                type: 'success',\n                                message: `${id}文章删除成功!`\n                            });\n                            setTimeout(() => {\n                                location.reload()\n                            }, 1500);  \n                        }\n                    }).catch(e=>{\n                        console.log(e)\n                    })\n                }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    });          \n                });\n            },\n            getMyBlogList(){\n                this.$axios.get('/api/article/myList')\n                    .then(res => {\n                        if(res.data.code === 0){\n                            this.articleList = res.data.data\n                        }\n                    }).catch(e=>{\n                        console.log(e)\n                    })\n            }\n        },\n        created() {\n            this.getMyBlogList()\n        },\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n.title {\n    margin: 30px 0;\n    text-align: center;\n    font-weight: bold;\n    font-size: 28px;\n}\n.article {\n    .addBtn {\n        float: right;\n        margin-bottom: 20px;\n    }\n}\n/deep/ .el-table {\n    .cell {\n        text-align: center;\n    }\n}\n</style>"]}]}