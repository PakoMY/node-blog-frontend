{"map":{"version":3,"sources":["js/chunk-14f75c67.6b3032a4.js"],"names":["window","push","90ab","module","__webpack_exports__","__webpack_require__","r","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","model","form","label-width","label","value","callback","$$v","$set","expression","action","show-file-list","on-success","handleAvatarSuccess","before-upload","beforeAvatarUpload","name","src","imageUrl","imgDefault","_v","type","on","click","save","signOut","staticRenderFns","logo","logo_default","n","js_cookie","js_cookie_default","Personalvue_type_script_lang_js_","data","nickname","a","methods","_this","$axios","post","head_img","then","res","console","log","code","$message","message","setTimeout","location","reload","catch","e","file","isJPG","isLt2M","size","error","getUserInfo","_this2","get","result","remove","$store","commit","$router","created","views_Personalvue_type_script_lang_js_","componentNormalizer","component","Object","b784","ba3d","exports","cf05","p"],"mappings":"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"},"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-14f75c67\"],{\"90ab\":function(e,t,a){\"use strict\";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"wrapper\"},[a(\"div\",{staticClass:\"content\"},[a(\"el-form\",{ref:\"form\",attrs:{model:e.form,\"label-width\":\"80px\"}},[a(\"el-form-item\",{attrs:{label:\"昵称\"}},[a(\"el-input\",{staticClass:\"nickname\",model:{value:e.form.nickname,callback:function(t){e.$set(e.form,\"nickname\",t)},expression:\"form.nickname\"}})],1),a(\"el-form-item\",{attrs:{label:\"头像\"}},[a(\"el-upload\",{staticClass:\"avatar-uploader\",attrs:{action:\"http://127.0.0.1:3000/api/user/upload\",\"show-file-list\":!1,\"on-success\":e.handleAvatarSuccess,\"before-upload\":e.beforeAvatarUpload,name:\"head_img\"}},[a(\"img\",{staticClass:\"avatar\",attrs:{src:null!=e.imageUrl?e.imageUrl:e.imgDefault}})]),a(\"p\",{staticClass:\"tips\"},[e._v(\"tips:请上传2M以内JPG/PNG格式的图片，比例最好1:1\")])],1),a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.save}},[e._v(\"保存\")]),a(\"el-button\",{on:{click:e.signOut}},[e._v(\"退出登录\")])],1)],1)],1)])},i=[],s=a(\"cf05\"),o=a.n(s),r=a(\"a78e\"),c=a.n(r),l={data:function(){return{form:{nickname:this.nickname},imageUrl:null,imgDefault:o.a}},methods:{save:function(){var e=this;this.$axios.post(\"/api/user/updateUser\",{nickname:this.form.nickname,head_img:this.imageUrl}).then((function(t){console.log(t),0===t.data.code&&(e.$message({message:\"更新成功\",type:\"success\"}),setTimeout((function(){location.reload()}),1500))})).catch((function(e){console.log(e)}))},handleAvatarSuccess:function(e){this.imageUrl=e.data},beforeAvatarUpload:function(e){var t=\"image/jpeg\"===e.type,a=e.size/1024/1024<2;return t||this.$message.error(\"上传头像图片只能是 JPG 格式!\"),a||this.$message.error(\"上传头像图片大小不能超过 2MB!\"),t&&a},getUserInfo:function(){var e=this;this.$axios.get(\"/api/user/info\").then((function(t){var a=t.data;0===a.code&&(e.form.nickname=a.data.nickname,\"\"===a.data.head_img||null===a.data.head_img?e.imageUrl=null:e.imageUrl=a.data.head_img)})).catch((function(e){console.log(e)}))},signOut:function(){c.a.remove(\"token\"),this.$store.commit(\"setToken\",\"\"),this.$store.commit(\"changIsSignIn\",0),this.$router.push({name:\"home\"})}},created:function(){this.getUserInfo()}},m=l,u=(a(\"b784\"),a(\"2877\")),f=Object(u[\"a\"])(m,n,i,!1,null,\"05742532\",null);t[\"default\"]=f.exports},b784:function(e,t,a){\"use strict\";a(\"ba3d\")},ba3d:function(e,t,a){},cf05:function(e,t,a){e.exports=a.p+\"img/logo.82b9c7a5.png\"}}]);","extractedComments":[]}