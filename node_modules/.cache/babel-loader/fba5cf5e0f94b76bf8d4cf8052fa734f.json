{"remainingRequest":"/Users/pako/work/workspace/node-blog/blog/node_modules/thread-loader/dist/cjs.js!/Users/pako/work/workspace/node-blog/blog/node_modules/babel-loader/lib/index.js!/Users/pako/work/workspace/node-blog/blog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/pako/work/workspace/node-blog/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pako/work/workspace/node-blog/blog/src/views/ArticleEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/pako/work/workspace/node-blog/blog/src/views/ArticleEdit.vue","mtime":1613318064371},{"path":"/Users/pako/work/workspace/node-blog/blog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pako/work/workspace/node-blog/blog/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pako/work/workspace/node-blog/blog/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/pako/work/workspace/node-blog/blog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pako/work/workspace/node-blog/blog/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogJycsCiAgICAgIGNvbnRlbnQ6ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ29CYWNrOiBmdW5jdGlvbiBnb0JhY2soKSB7CiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICB9LAogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICB0aGlzLiRheGlvcy5wb3N0KCcvYXBpL2FydGljbGUvdXBkYXRlJywgewogICAgICAgICAgdGl0bGU6IHRoaXMudGl0bGUsCiAgICAgICAgICBjb250ZW50OiB0aGlzLmNvbnRlbnQsCiAgICAgICAgICBhcnRpY2xlX2lkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAwKSB7CiAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICBtZXNzYWdlOiAn5pu05paw5oiQ5YqfJywKICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgbmFtZTogJ2FydGljbGUnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0sIDE1MDApOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRheGlvcy5wb3N0KCcvYXBpL2FydGljbGUvYWRkJywgewogICAgICAgICAgdGl0bGU6IHRoaXMudGl0bGUsCiAgICAgICAgICBjb250ZW50OiB0aGlzLmNvbnRlbnQKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAwKSB7CiAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICBtZXNzYWdlOiAn5paw5aKe5oiQ5YqfJywKICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgbmFtZTogJ2FydGljbGUnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0sIDE1MDApOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGdldERldGFpbDogZnVuY3Rpb24gZ2V0RGV0YWlsKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJGF4aW9zLmdldCgnL2FwaS9hcnRpY2xlL2RldGFpbCcsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGFydGljbGVfaWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy5pZAogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgIF90aGlzMi50aXRsZSA9IHJlcy5kYXRhLmRhdGEudGl0bGU7CiAgICAgICAgICBfdGhpczIuY29udGVudCA9IHJlcy5kYXRhLmRhdGEuY29udGVudDsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgdGhpcy5nZXREZXRhaWwoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ArticleEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAkBA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAAA;AAIA,GANA;AAOA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,WAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,KAHA;AAIA,IAAA,IAJA,kBAIA;AAAA;;AACA,UAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA;AACA,aAAA,MAAA,CAAA,IAAA,CAAA,qBAAA,EAAA;AACA,UAAA,KAAA,EAAA,KAAA,KADA;AAEA,UAAA,OAAA,EAAA,KAAA,OAFA;AAGA,UAAA,UAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA;AAHA,SAAA,EAIA,IAJA,CAIA,UAAA,GAAA,EAAA;AACA,cAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,CAAA,EAAA;AACA,YAAA,KAAA,CAAA,QAAA,CAAA;AACA,cAAA,OAAA,EAAA,MADA;AAEA,cAAA,IAAA,EAAA;AAFA,aAAA;;AAIA,YAAA,UAAA,CAAA,YAAA;AACA,cAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,gBAAA,IAAA,EAAA;AAAA,eAAA;AACA,aAFA,EAEA,IAFA,CAAA;AAGA;AACA,SAdA,EAcA,KAdA,CAcA,UAAA,CAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,SAhBA;AAiBA,OAlBA,MAkBA;AACA,aAAA,MAAA,CAAA,IAAA,CAAA,kBAAA,EAAA;AACA,UAAA,KAAA,EAAA,KAAA,KADA;AAEA,UAAA,OAAA,EAAA,KAAA;AAFA,SAAA,EAGA,IAHA,CAGA,UAAA,GAAA,EAAA;AACA,cAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,CAAA,EAAA;AACA,YAAA,KAAA,CAAA,QAAA,CAAA;AACA,cAAA,OAAA,EAAA,MADA;AAEA,cAAA,IAAA,EAAA;AAFA,aAAA;;AAIA,YAAA,UAAA,CAAA,YAAA;AACA,cAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,gBAAA,IAAA,EAAA;AAAA,eAAA;AACA,aAFA,EAEA,IAFA,CAAA;AAGA;AACA,SAbA,EAaA,KAbA,CAaA,UAAA,CAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,SAfA;AAgBA;AACA,KAzCA;AA0CA,IAAA,SA1CA,uBA0CA;AAAA;;AACA,WAAA,MAAA,CAAA,GAAA,CAAA,qBAAA,EAAA;AACA,QAAA,MAAA,EAAA;AACA,UAAA,UAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA;AADA;AADA,OAAA,EAIA,IAJA,CAIA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,CAAA,EAAA;AACA,UAAA,MAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA;AACA,UAAA,MAAA,CAAA,OAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,OAAA;AACA;AACA,OATA,EASA,KATA,CASA,UAAA,CAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,OAXA;AAYA;AAvDA,GAPA;AAgEA,EAAA,OAhEA,qBAgEA;AACA,QAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA;AACA,WAAA,SAAA;AACA;AACA;AApEA,CAAA","sourcesContent":["<template>\n    <div class=\"edit_wrap wrapper\">\n       <div class=\"backBtn\">\n           <el-button @click=\"goBack\">返回</el-button>\n       </div>\n       <div class=\"edit_title\">标题</div>\n       <el-input v-model=\"title\" placeholder=\"请输入标题\"></el-input>\n       <div class=\"edit_title\">文章内容 (Markdown编辑器)</div>\n       <div class=\"markdown\">\n            <mavon-editor v-model=\"content\"/>\n       </div>\n       <div class=\"save_btn\">\n           <el-button type=\"primary\" @click=\"save\">保存</el-button>\n       </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        data() {\n            return {\n                title:'',\n                content:''\n            }\n        },\n        methods:{\n            goBack(){\n                this.$router.go(-1)\n            },\n            save(){\n                if(this.$route.params.id){\n                    this.$axios.post('/api/article/update',{\n                        title:this.title,\n                        content:this.content,\n                        article_id:this.$route.params.id\n                    }).then(res => {\n                        if(res.data.code === 0){\n                            this.$message({\n                                message: '更新成功',\n                                type: 'success'\n                            });\n                            setTimeout(() => {\n                                this.$router.push({name:'article'})\n                            }, 1500);\n                        }\n                    }).catch(e => {\n                        console.log(e)\n                    })\n                }else{\n                    this.$axios.post('/api/article/add',{\n                    title:this.title,\n                    content:this.content\n                }).then(res => {\n                    if(res.data.code === 0){\n                        this.$message({\n                            message: '新增成功',\n                            type: 'success'\n                        });\n                        setTimeout(() => {\n                            this.$router.push({name:'article'})\n                        }, 1500);\n                    }\n                }).catch(e => {\n                    console.log(e)\n                })\n                }     \n            },\n            getDetail() {\n                this.$axios.get('/api/article/detail',{\n                params:{\n                    article_id:this.$route.params.id\n                }\n                }).then(res => {\n                    if(res.data.code === 0){\n                        this.title = res.data.data.title\n                        this.content = res.data.data.content\n                    }\n                }).catch(e=>{\n                    console.log(e)\n                })\n            }\n        },\n        created() {\n            if(this.$route.params.id){\n                this.getDetail()\n            }\n        },\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n.edit_wrap {\n    margin: 30px auto;\n    background: #fff;\n    padding: 40px;\n    font-size: 16px;\n    .backBtn {\n        text-align: right;\n        margin-bottom: 40px;\n    }\n    .edit_title {\n        margin: 20px 0;\n        font-weight: 700;\n    }\n    .save_btn {\n        margin: 40px 0;\n    }\n}\n\n</style>"],"sourceRoot":"src/views"}]}