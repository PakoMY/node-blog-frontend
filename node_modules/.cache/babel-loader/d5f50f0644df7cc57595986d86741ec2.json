{"remainingRequest":"/Users/pako/work/workspace/node-blog/blog/node_modules/thread-loader/dist/cjs.js!/Users/pako/work/workspace/node-blog/blog/node_modules/babel-loader/lib/index.js!/Users/pako/work/workspace/node-blog/blog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/pako/work/workspace/node-blog/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pako/work/workspace/node-blog/blog/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/pako/work/workspace/node-blog/blog/src/views/Login.vue","mtime":1613384291753},{"path":"/Users/pako/work/workspace/node-blog/blog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pako/work/workspace/node-blog/blog/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pako/work/workspace/node-blog/blog/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/pako/work/workspace/node-blog/blog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pako/work/workspace/node-blog/blog/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IENvb2tpZSBmcm9tICdqcy1jb29raWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBzdGF0dXM6IDEsCiAgICAgIGxvZ2luRm9ybTogewogICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICBwYXNzd29yZDogJycKICAgICAgfSwKICAgICAgbG9naW5SdWxlczogewogICAgICAgIHVzZXJuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl6LSm5Y+3JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5a+G56CBJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIHJlZ0Zvcm06IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgIG5pY2tuYW1lOiAnJwogICAgICB9LAogICAgICByZWdSdWxlczogewogICAgICAgIHVzZXJuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl6LSm5Y+3JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5a+G56CBJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIG5pY2tuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5pi156ewJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzaWduSW46IGZ1bmN0aW9uIHNpZ25JbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbJ2xvZ2luRm9ybSddLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgX3RoaXMubG9hZGluZyA9IHRydWU7CgogICAgICAgICAgX3RoaXMuJGF4aW9zLnBvc3QoJy9hcGkvdXNlci9sb2dpbicsIF90aGlzLmxvZ2luRm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXMuZGF0YTsKCiAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PT0gMCkgewogICAgICAgICAgICAgIENvb2tpZS5zZXQoJ3Rva2VuJywgcmVzdWx0LnRva2VuKTsKCiAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnc2V0VG9rZW4nLCByZXN1bHQudG9rZW4pOwoKICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCdjaGFuZ0lzU2lnbkluJywgMSk7CgogICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICdob21lJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSwgMTUwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3Igc3VibWl0ISEnKTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNpZ25VcDogZnVuY3Rpb24gc2lnblVwKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbJ3JlZ0Zvcm0nXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIF90aGlzMi4kYXhpb3MucG9zdCgnL2FwaS91c2VyL3JlZ2lzdGVyJywgX3RoaXMyLnJlZ0Zvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBzdWJtaXQhIScpOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdG9TaWduVXA6IGZ1bmN0aW9uIHRvU2lnblVwKCkgewogICAgICB0aGlzLnN0YXR1cyA9IDI7CiAgICB9LAogICAgdG9TaWduSW46IGZ1bmN0aW9uIHRvU2lnbkluKCkgewogICAgICB0aGlzLnN0YXR1cyA9IDE7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"sign_box\">\n        <div class=\"signIn\" v-if=\"status==1\">\n            <el-form :model=\"loginForm\" :rules=\"loginRules\" ref=\"loginForm\" label-width=\"0px\" key=\"login\">\n                <el-form-item prop=\"username\">\n                    <el-input v-model=\"loginForm.username\" placeholder=\"请输入账号\"></el-input>\n                </el-form-item>\n                <el-form-item prop=\"password\">\n                    <el-input type=\"password\" v-model=\"loginForm.password\" placeholder=\"请输入密码\"></el-input>\n                </el-form-item>\n                <el-form-item>\n                    <el-button class=\"signBtn\" type=\"primary\" @click=\"signIn\">登录</el-button>\n                </el-form-item>\n            </el-form>\n            <span class=\"signText\" @click=\"toSignUp\">注册新账号</span>\n        </div>\n        <div class=\"signUp\" v-else>\n            <el-form :model=\"regForm\" :rules=\"regRules\" ref=\"regForm\" label-width=\"0px\" key=\"register\">\n                <el-form-item prop=\"username\">\n                    <el-input v-model=\"regForm.username\" placeholder=\"请输入账号\"></el-input>\n                </el-form-item>\n                <el-form-item prop=\"password\">\n                    <el-input type=\"password\" v-model=\"regForm.password\" placeholder=\"请输入密码\"></el-input>\n                </el-form-item>\n                <el-form-item prop=\"nickname\">\n                    <el-input v-model=\"regForm.nickname\" placeholder=\"请输入昵称\"></el-input>\n                </el-form-item>\n                <el-form-item>\n                    <el-button class=\"signBtn\" type=\"primary\" @click=\"signUp\">注册</el-button>\n                </el-form-item>\n            </el-form>\n            <span class=\"signText\" @click=\"toSignIn\">返回登录</span>\n        </div>\n        <div v-loading.fullscreen.lock=\"loading\"></div>\n    </div>\n</template>\n\n<script>\n    import Cookie from 'js-cookie'\n    export default {\n        data() {\n            return {\n                loading:false,\n                status:1,\n                loginForm:{\n                    username:'',\n                    password:''\n                },\n                loginRules:{\n                    username:[\n                        { required: true, message: '请输入账号', trigger: 'blur' },\n                    ],\n                    password:[\n                        { required: true, message: '请输入密码', trigger: 'blur' },\n                    ]\n                },\n                regForm:{\n                    username:'',\n                    password:'',\n                    nickname:''\n                },\n                regRules:{\n                    username:[\n                        { required: true, message: '请输入账号', trigger: 'blur' },\n                    ],\n                    password: [\n                        { required: true, message: '请输入密码', trigger: 'blur' },\n                    ],\n                    nickname: [\n                        { required: true, message: '请输入昵称', trigger: 'blur' },\n                    ],\n                }\n            }\n        },\n        methods:{\n            signIn() {\n                this.$refs['loginForm'].validate((valid) => {\n                    if (valid) {\n                        this.loading = true\n                        this.$axios.post('/api/user/login',this.loginForm)\n                            .then(res => {\n                                let result = res.data\n                                if(result.code === 0) {\n                                    Cookie.set('token',result.token)\n                                    this.$store.commit('setToken',result.token)\n                                    this.$store.commit('changIsSignIn',1)\n                                    setTimeout(() => {\n                                        this.loading = false\n                                        this.$router.push({name:'home'}) \n                                    }, 1500);\n                                }\n                            })\n                    } else {\n                        console.log('error submit!!');\n                        return false;\n                    }\n                });\n            },\n            signUp() {\n                this.$refs['regForm'].validate((valid) => {\n                    if (valid) {\n                        this.$axios.post('/api/user/register',this.regForm)\n                            .then(res => {\n                                console.log(res)\n                            })\n                    } else {\n                        console.log('error submit!!');\n                        return false;\n                    }\n                });\n            },\n            toSignUp(){\n                this.status = 2\n            },\n            toSignIn() {\n                this.status = 1\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n.sign_box {\n    width: 300px;\n    margin: 200px auto 0;\n    text-align: center;\n    .signText {\n        color: #3B78DD;\n        cursor: pointer;\n        &:hover{\n            color: #1760D7;\n        }\n    }\n}\n.signBtn {\n    width: 100%;\n    font-size: 18px;\n}\n</style>"],"sourceRoot":"src/views"}]}